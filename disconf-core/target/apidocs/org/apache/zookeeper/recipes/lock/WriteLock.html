<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_171) on Fri Aug 10 11:52:17 GMT+08:00 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WriteLock (disconf-core 2.6.36 API)</title>
<meta name="date" content="2018-08-10">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WriteLock (disconf-core 2.6.36 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/WriteLock.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/zookeeper/recipes/lock/LockListener.html" title="org.apache.zookeeper.recipes.lock中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/zookeeper/recipes/lock/ZooKeeperOperation.html" title="org.apache.zookeeper.recipes.lock中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/zookeeper/recipes/lock/WriteLock.html" target="_top">框架</a></li>
<li><a href="WriteLock.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.zookeeper.recipes.lock</div>
<h2 title="类 WriteLock" class="title">类 WriteLock</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.zookeeper.recipes.lock.WriteLock</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">WriteLock</span>
extends <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></pre>
<div class="block">A <a href="package.html">protocol to implement an exclusive
 write lock or to elect a leader</a>. <p/> You invoke <a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#lock--"><code>lock()</code></a> to
 start the process of grabbing the lock; you may get the lock then or it may be
 some time later. <p/> You can register a listener so that you are invoked
 when you get the lock; otherwise you can ask if you have the lock
 by calling <a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#isOwner--"><code>isOwner()</code></a></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.zookeeper.ZooKeeper</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#zookeeper">zookeeper</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#WriteLock-org.apache.zookeeper.ZooKeeper-java.lang.String-java.util.List-">WriteLock</a></span>(org.apache.zookeeper.ZooKeeper&nbsp;zookeeper,
         <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;dir,
         <a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;&nbsp;acl)</code>
<div class="block">zookeeper contructor for writelock</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#WriteLock-org.apache.zookeeper.ZooKeeper-java.lang.String-java.util.List-org.apache.zookeeper.recipes.lock.LockListener-">WriteLock</a></span>(org.apache.zookeeper.ZooKeeper&nbsp;zookeeper,
         <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;dir,
         <a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;&nbsp;acl,
         <a href="../../../../../org/apache/zookeeper/recipes/lock/LockListener.html" title="org.apache.zookeeper.recipes.lock中的接口">LockListener</a>&nbsp;callback)</code>
<div class="block">zookeeper contructor for writelock with callback</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#close--">close</a></span>()</code>
<div class="block">Closes this strategy and releases any ZooKeeper resources; but keeps the
 ZooKeeper instance open</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#doClose--">doClose</a></span>()</code>
<div class="block">Allow derived classes to perform
 some custom closing operations to release resources</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#ensureExists-java.lang.String-byte:A-java.util.List-org.apache.zookeeper.CreateMode-">ensureExists</a></span>(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;path,
            byte[]&nbsp;data,
            <a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;&nbsp;acl,
            org.apache.zookeeper.CreateMode&nbsp;flags)</code>
<div class="block">Ensures that the given path exists with the given data, ACL and flags</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#ensurePathExists-java.lang.String-">ensurePathExists</a></span>(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;path)</code>
<div class="block">Ensures that the given path exists with no data, the current
 ACL and no flags</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#getAcl--">getAcl</a></span>()</code>
<div class="block">return the acl its using</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#getDir--">getDir</a></span>()</code>
<div class="block">return the parent dir for lock</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#getId--">getId</a></span>()</code>
<div class="block">return the id for this lock</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/zookeeper/recipes/lock/LockListener.html" title="org.apache.zookeeper.recipes.lock中的接口">LockListener</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#getLockListener--">getLockListener</a></span>()</code>
<div class="block">return the current locklistener</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#getRetryDelay--">getRetryDelay</a></span>()</code>
<div class="block">get the retry delay in milliseconds</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>org.apache.zookeeper.ZooKeeper</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#getZookeeper--">getZookeeper</a></span>()</code>
<div class="block">return zookeeper client instance</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#isClosed--">isClosed</a></span>()</code>
<div class="block">Returns true if this protocol has been closed</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#isOwner--">isOwner</a></span>()</code>
<div class="block">Returns true if this node is the owner of the
 lock (or the leader)</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#lock--">lock</a></span>()</code>
<div class="block">Attempts to acquire the exclusive write lock returning whether or not it was
 acquired.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#retryDelay-int-">retryDelay</a></span>(int&nbsp;attemptCount)</code>
<div class="block">Performs a retry delay if this is not the first attempt</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#retryOperation-org.apache.zookeeper.recipes.lock.ZooKeeperOperation-">retryOperation</a></span>(<a href="../../../../../org/apache/zookeeper/recipes/lock/ZooKeeperOperation.html" title="org.apache.zookeeper.recipes.lock中的接口">ZooKeeperOperation</a>&nbsp;operation)</code>
<div class="block">Perform the given operation, retrying if the connection fails</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#setAcl-java.util.List-">setAcl</a></span>(<a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;&nbsp;acl)</code>
<div class="block">set the acl</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#setLockListener-org.apache.zookeeper.recipes.lock.LockListener-">setLockListener</a></span>(<a href="../../../../../org/apache/zookeeper/recipes/lock/LockListener.html" title="org.apache.zookeeper.recipes.lock中的接口">LockListener</a>&nbsp;callback)</code>
<div class="block">register a different call back listener</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#setRetryDelay-long-">setRetryDelay</a></span>(long&nbsp;retryDelay)</code>
<div class="block">Sets the time waited between retry delays</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/recipes/lock/WriteLock.html#unlock--">unlock</a></span>()</code>
<div class="block">Removes the lock or associated znode if
 you no longer require the lock. this also
 removes your request in the queue for locking
 in case you do not already hold the lock.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="zookeeper">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>zookeeper</h4>
<pre>protected final&nbsp;org.apache.zookeeper.ZooKeeper zookeeper</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="WriteLock-org.apache.zookeeper.ZooKeeper-java.lang.String-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WriteLock</h4>
<pre>public&nbsp;WriteLock(org.apache.zookeeper.ZooKeeper&nbsp;zookeeper,
                 <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;dir,
                 <a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;&nbsp;acl)</pre>
<div class="block">zookeeper contructor for writelock</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>zookeeper</code> - zookeeper client instance</dd>
<dd><code>dir</code> - the parent path you want to use for locking</dd>
<dd><code>acls</code> - the acls that you want to use for all the paths,
                  if null world read/write is used.</dd>
</dl>
</li>
</ul>
<a name="WriteLock-org.apache.zookeeper.ZooKeeper-java.lang.String-java.util.List-org.apache.zookeeper.recipes.lock.LockListener-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WriteLock</h4>
<pre>public&nbsp;WriteLock(org.apache.zookeeper.ZooKeeper&nbsp;zookeeper,
                 <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;dir,
                 <a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;&nbsp;acl,
                 <a href="../../../../../org/apache/zookeeper/recipes/lock/LockListener.html" title="org.apache.zookeeper.recipes.lock中的接口">LockListener</a>&nbsp;callback)</pre>
<div class="block">zookeeper contructor for writelock with callback</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>zookeeper</code> - the zookeeper client instance</dd>
<dd><code>dir</code> - the parent path you want to use for locking</dd>
<dd><code>acl</code> - the acls that you want to use for all the paths</dd>
<dd><code>callback</code> - the call back instance</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getLockListener--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLockListener</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/zookeeper/recipes/lock/LockListener.html" title="org.apache.zookeeper.recipes.lock中的接口">LockListener</a>&nbsp;getLockListener()</pre>
<div class="block">return the current locklistener</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the locklistener</dd>
</dl>
</li>
</ul>
<a name="setLockListener-org.apache.zookeeper.recipes.lock.LockListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLockListener</h4>
<pre>public&nbsp;void&nbsp;setLockListener(<a href="../../../../../org/apache/zookeeper/recipes/lock/LockListener.html" title="org.apache.zookeeper.recipes.lock中的接口">LockListener</a>&nbsp;callback)</pre>
<div class="block">register a different call back listener</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>callback</code> - the call back instance</dd>
</dl>
</li>
</ul>
<a name="unlock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;void&nbsp;unlock()
            throws <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/RuntimeException.html?is-external=true" title="java.lang中的类或接口">RuntimeException</a></pre>
<div class="block">Removes the lock or associated znode if
 you no longer require the lock. this also
 removes your request in the queue for locking
 in case you do not already hold the lock.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/6/docs/api/java/lang/RuntimeException.html?is-external=true" title="java.lang中的类或接口">RuntimeException</a></code> - throws a runtime exception
                          if it cannot connect to zookeeper.</dd>
</dl>
</li>
</ul>
<a name="lock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;boolean&nbsp;lock()
             throws org.apache.zookeeper.KeeperException,
                    <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="java.lang中的类或接口">InterruptedException</a></pre>
<div class="block">Attempts to acquire the exclusive write lock returning whether or not it was
 acquired. Note that the exclusive lock may be acquired some time later after
 this method has been invoked due to the current lock owner going away.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="https://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="java.lang中的类或接口">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="getDir--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDir</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;getDir()</pre>
<div class="block">return the parent dir for lock</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the parent dir used for locks.</dd>
</dl>
</li>
</ul>
<a name="isOwner--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOwner</h4>
<pre>public&nbsp;boolean&nbsp;isOwner()</pre>
<div class="block">Returns true if this node is the owner of the
 lock (or the leader)</div>
</li>
</ul>
<a name="getId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;getId()</pre>
<div class="block">return the id for this lock</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the id for this lock</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes this strategy and releases any ZooKeeper resources; but keeps the
 ZooKeeper instance open</div>
</li>
</ul>
<a name="getZookeeper--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getZookeeper</h4>
<pre>public&nbsp;org.apache.zookeeper.ZooKeeper&nbsp;getZookeeper()</pre>
<div class="block">return zookeeper client instance</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>zookeeper client instance</dd>
</dl>
</li>
</ul>
<a name="getAcl--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAcl</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;&nbsp;getAcl()</pre>
<div class="block">return the acl its using</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the acl.</dd>
</dl>
</li>
</ul>
<a name="setAcl-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAcl</h4>
<pre>public&nbsp;void&nbsp;setAcl(<a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;&nbsp;acl)</pre>
<div class="block">set the acl</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>acl</code> - the acl to set to</dd>
</dl>
</li>
</ul>
<a name="getRetryDelay--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRetryDelay</h4>
<pre>public&nbsp;long&nbsp;getRetryDelay()</pre>
<div class="block">get the retry delay in milliseconds</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the retry delay</dd>
</dl>
</li>
</ul>
<a name="setRetryDelay-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRetryDelay</h4>
<pre>public&nbsp;void&nbsp;setRetryDelay(long&nbsp;retryDelay)</pre>
<div class="block">Sets the time waited between retry delays</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>retryDelay</code> - the retry delay</dd>
</dl>
</li>
</ul>
<a name="doClose--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doClose</h4>
<pre>protected&nbsp;void&nbsp;doClose()</pre>
<div class="block">Allow derived classes to perform
 some custom closing operations to release resources</div>
</li>
</ul>
<a name="retryOperation-org.apache.zookeeper.recipes.lock.ZooKeeperOperation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retryOperation</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a>&nbsp;retryOperation(<a href="../../../../../org/apache/zookeeper/recipes/lock/ZooKeeperOperation.html" title="org.apache.zookeeper.recipes.lock中的接口">ZooKeeperOperation</a>&nbsp;operation)
                         throws org.apache.zookeeper.KeeperException,
                                <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="java.lang中的类或接口">InterruptedException</a></pre>
<div class="block">Perform the given operation, retrying if the connection fails</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>object. it needs to be cast to the callee's expected
 return type.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="https://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="java.lang中的类或接口">InterruptedException</a></code></dd>
</dl>
</li>
</ul>
<a name="ensurePathExists-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensurePathExists</h4>
<pre>protected&nbsp;void&nbsp;ensurePathExists(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;path)</pre>
<div class="block">Ensures that the given path exists with no data, the current
 ACL and no flags</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>path</code> - </dd>
</dl>
</li>
</ul>
<a name="ensureExists-java.lang.String-byte:A-java.util.List-org.apache.zookeeper.CreateMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureExists</h4>
<pre>protected&nbsp;void&nbsp;ensureExists(<a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;path,
                            byte[]&nbsp;data,
                            <a href="https://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.zookeeper.data.ACL&gt;&nbsp;acl,
                            org.apache.zookeeper.CreateMode&nbsp;flags)</pre>
<div class="block">Ensures that the given path exists with the given data, ACL and flags</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>path</code> - </dd>
<dd><code>acl</code> - </dd>
<dd><code>flags</code> - </dd>
</dl>
</li>
</ul>
<a name="isClosed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClosed</h4>
<pre>protected&nbsp;boolean&nbsp;isClosed()</pre>
<div class="block">Returns true if this protocol has been closed</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if this protocol is closed</dd>
</dl>
</li>
</ul>
<a name="retryDelay-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>retryDelay</h4>
<pre>protected&nbsp;void&nbsp;retryDelay(int&nbsp;attemptCount)</pre>
<div class="block">Performs a retry delay if this is not the first attempt</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>attemptCount</code> - the number of the attempts performed so far</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/WriteLock.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/zookeeper/recipes/lock/LockListener.html" title="org.apache.zookeeper.recipes.lock中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/zookeeper/recipes/lock/ZooKeeperOperation.html" title="org.apache.zookeeper.recipes.lock中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/zookeeper/recipes/lock/WriteLock.html" target="_top">框架</a></li>
<li><a href="WriteLock.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015&#x2013;2018 <a href="http://www.example.com">Baidu</a>. All rights reserved.</small></p>
</body>
</html>
